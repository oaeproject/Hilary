<% include node_modules/oae-email/emailTemplates/header.html.jst %>
<% include node_modules/oae-email/emailTemplates/footer.html.jst %>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http: //www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http: //www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width" />
        <style>
            /**
             * Include the general styles
             */
            <% include node_modules/oae-email/emailTemplates/email.css.jst %>

            .content td {
                background-color: #FFF;
                color: #888;
                padding: 20px;
            }
        </style>
    </head>
    <body>

        <%
            var textExplanation = util.i18n.translate('__MSG__EMAIL_REQUEST_JOIN_GROUP__', {'userDisplayName': util.html.encodeForHTML(user.displayName), 'userTenant': util.html.encodeForHTML(user.tenant.displayName), 'userEmail': util.html.encodeForHTML(user.email), 'groupDisplayName': util.html.encodeForHTML(group.displayName)});
            textExplanation = util.html.toText(textExplanation, false);

            var userText = util.i18n.translate('__MSG__EMAIL_JOIN_GROUP_USER_TEXT__', {'text': util.html.encodeForHTML(text)});
            userText = util.html.toText(userText, false);
        %>
        <table cellspacing="10" cellpadding="0">
            <tbody>
                <% renderHeader(); %>

                <tr class="row">
                    <td class="btn-prominent">
                        <a href="<%= validateRequestUrl %>">
                            __MSG__VALIDATE_USER_REQUEST_JOIN_GROUP__
                        </a>
                    </td>
                </tr>

                <tr class="row content">
                    <td>
                        <p> <%= textExplanation %> </p>
                        <% if (text) { %>
                            <p> <%= userText %> </p>
                        <% } %>
                    </td>
                </tr>
                <% renderFooter(false); %>
            </tbody>
        </table>
    </body>
</html>
