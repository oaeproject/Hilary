var userAPI = require('./api.js');

module.exports = function(tenant) {
    
    tenant.server.get('/users/list', function(req, res) {
        res.send(userAPI.listUsers(tenant.alias));
    });
    
    tenant.server.get('/users/listall', function(req, res) {
        res.send(userAPI.listAllUsers());
    });
    
    tenant.server.get('/users/create', function(req, res) {
        userAPI.createUser(tenant, req.query.firstName, req.query.lastName, function() {
            res.send(200);
        });
    });
    
    tenant.server.get('/users/get', function(req, res) {
        res.send(userAPI.getUser(req.query.userId));
    });
    
    tenant.server.get('/users/updateProfile', function(req, res) {
        var user = userAPI.getUser(req.query.userId);
        if (req.query.firstName) {
            user.firstName = req.query.firstName;
        }
        if (req.query.lastName) {
            user.lastName = req.query.lastName;
        }
        res.send(200);
    });
    
};