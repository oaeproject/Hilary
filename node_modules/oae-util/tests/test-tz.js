/*
 * Copyright 2013 Apereo Foundation (AF) Licensed under the
 * Educational Community License, Version 2.0 (the "License"); you may
 * not use this file except in compliance with the License. You may
 * obtain a copy of the License at
 *
 *     http://www.osedu.org/licenses/ECL-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an "AS IS"
 * BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing
 * permissions and limitations under the License.
 */

var assert = require('assert');

var TZ = require('oae-util/lib/tz');

describe('TZ', function() {

    describe('#getTimeZoneFromRails()', function() {

        /**
         * Verifies that given a rails timezone, a "standard" timezone is returned.
         */
        it('verify proper rails conversion', function() {
            assert.equal(TZ.getTimezoneFromRails('Brussels'), 'Europe/Brussels');
            assert.equal(TZ.getTimezoneFromRails('Pacific Time (US & Canada)'), 'America/Los_Angeles');
        });
    });

    describe('#getRailsTimeZoneFromTZInfo()', function() {

        /**
         * Verifies that given a rails timezone, a "standard" timezone is returned.
         */
        it('verify proper rails conversion', function() {
            assert.equal(TZ.getClosestSupportedTimezone('Europe/Brussels'), 'Europe/Brussels');
            assert.equal(TZ.getClosestSupportedTimezone('Canada/Yukon'), 'America/Phoenix');
            assert.equal(TZ.getClosestSupportedTimezone('Europe/Zurich'), 'Africa/Johannesburg');
        });
    });

});
