<%
    /**
     * Render the email header
     */
    var renderHeader = function() {
        var institutionalLogoURL = util.url.ensureAbsoluteLink(util.ui.getHashedPath(skinVariables['institutional-logo-url'].replace(/\'/g, '')), baseUrl);
        var greeting = util.i18n.translate('__MSG__ACTIVITY_EMAIL_GREETING__', {'displayName': util.html.encodeForHTML(recipient.displayName)});

        // Aggregate the header content into an array of lines of HTML content
        var lines = [];
        lines.push('<tr id="header" class="row">');
        lines.push(     '<td align="center">');
        lines.push(         '<table cellpadding="0" cellspacing="0">');
        lines.push(             '<tr id="logo">');
        lines.push(                 '<td><img src="' + institutionalLogoURL + '" /></td>');
        lines.push(             '</tr>');

        if (recipient.displayName) {
            lines.push(         '<tr id="greeting">');
            lines.push(             '<td><h1>' + util.url.ensureAbsoluteLinks(greeting, baseUrl) + '</h1></td>');
            lines.push(         '</tr>');
        }

        lines.push(         '</table>');
        lines.push(     '</td>');
        lines.push('</tr>');

        // Join the lines together by new line, adding the trailing new line to the end
        print(lines.join('\n') + '\n');
    };
%>
