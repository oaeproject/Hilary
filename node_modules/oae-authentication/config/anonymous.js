var Fields = require('oae-config/lib/fields');

module.exports = {
    "oae-authentication": {
        "title": "OAE Authentication Module",
        "anonymous": {
            "name": "Anonymous users",
            "description": "Define the configuration for anonymous users",
            "schema": new Fields.ArrayFieldSet({
                "href": new Fields.Text('Configure link', 'Configure link to page', '')
            }),
            "elements": {
                "anonallowed": new Fields.Boolean('Anonymous browsing allowed', 'Allow for anonymous browsing'),
                "requireuser": new Fields.ExpandableObject("Require logged in user", "Pages that require that the user is logged in", {
                    "me": {
                        "href": new Fields.Text(null, null, '/me')
                    },
                    "devme": {
                        "href": new Fields.Text(null, null, '/dev/me.html')
                    },
                    "create": {
                        "href": new Fields.Text(null, null, '/create')
                    },
                    "devcreate": {
                        "href": new Fields.Text(null, null, '/dev/createnew.html')
                    }
                }),
                "requireanon": new Fields.ExpandableObject("Require anonymous user", "Pages that require that the user to be anonymous", {
                    "register": {
                        "href": new Fields.Text(null, null, '/register')
                    },
                    "devregister": {
                        "href": new Fields.Text(null, null, '/dev/create_new_account.html')
                    }
                }),
                "requireuseranonnotallowed": new Fields.ExpandableObject("Require logged in user", "List of pages that will be added to the list of pages that require a logged in user if anonymous users aren't allowed", {
                    "me": {
                        "href": new Fields.Text(null, null, '/me')
                    },
                    "devme": {
                        "href": new Fields.Text(null, null, '/dev/me.html')
                    },
                }),
                "requireanonymousanonnotallowed": new Fields.ExpandableObject("Require logged in user", "List of pages that will be added to the list of pages that require an anonymous user if anonymous users aren't allowed", {}, true),
                "requireprocessing": new Fields.ExpandableObject("Require processing", "List op pages that require additional processing to determine whether the page can be shown to the current user. These pages are then required to call the sakai.api.Security.showPage themselves", {
                    "devuser": {
                        "href": new Fields.Text(null, null, '/dev/user.html')
                    },
                    "me": {
                        "href": new Fields.Text(null, null, '/me')
                    },
                    "devme": {
                        "href": new Fields.Text(null, null, '/dev/me.html')
                    },
                    "devcontent": {
                        "href": new Fields.Text(null, null, '/dev/content_profile.html')
                    },
                    "content": {
                        "href": new Fields.Text(null, null, '/content')
                    }
                })
            }
        }
    }
}
