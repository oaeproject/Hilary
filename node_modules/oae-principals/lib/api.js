/*!
 * Copyright 2012 Sakai Foundation (SF) Licensed under the
 * Educational Community License, Version 2.0 (the "License"); you may
 * not use this file except in compliance with the License. You may
 * obtain a copy of the License at
 * 
 *     http://www.osedu.org/licenses/ECL-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an "AS IS"
 * BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing
 * permissions and limitations under the License.
 */

var _ = require('underscore');
var GroupAPI = require('./api.group');
var PictureAPI = require('./api.picture');
var UserAPI = require('./api.user');

/**
 * ### Events
 *
 * The `PrincipalsAPI`, as enumerated in `PrincipalsConstants.events`, emits the following events:
 *
 * * `createdUser(ctx, user)`: A new user was created. The `ctx` and the `user` object that was created are both provided.
 * * `updatedUser(ctx, userId)`: A user was updated. The `ctx` and the `userId` of the updated user are provided.
 * * `createdGroup(ctx, group)`: A group was created. The `ctx` and the `group` object that was created are both provided.
 * * `updatedGroup(ctx, groupId)`: A group was updated. The `ctx` and the `groupId` of the updated group are provided.
 * * `updatedGroupMembership(ctx, groupId, memberUpdates)`: A group's members list was updated. The `ctx`, `groupId` of the updated group, and the hash of principalId -> role that outlines the changes that were made are provided.
 */
var PrincipalsAPI = module.exports = require('./internal/emitter');

// This file would become unmaintainable if all the logic would be placed here.
// That's why we split them up in a couple of files of which the api logic gets exported.
_.extend(module.exports, GroupAPI, PictureAPI, UserAPI);
